(this["webpackJsonpfood-mood"]=this["webpackJsonpfood-mood"]||[]).push([[0],{174:function(e,t,a){e.exports=a(321)},183:function(e,t,a){},321:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),i=a.n(l),c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function o(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var s=a(4),u=a(38),m=a(146),d=a(14),p=a(32),h={name:"",description:""},f={name:"",kind:"",meal_type:"",description:"",url:"",meal_date:""},E=Object(u.c)({location:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER_LOCATION":return Object(d.a)(Object(d.a)({},e),{},{location:t.location});default:return e}},currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(d.a)(Object(d.a)({},e),{},{currentUser:t.user});case"CLEAR_CURRENT_USER":return null;default:return e}},myLists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MY_LISTS":return t.lists;case"ADD_LIST":return e.concat(t.list);case"UPDATE_LIST":return e.map((function(e){return e.id===t.list.id?t.list:e}));case"DELETE_LIST":return e.filter((function(e){return e.id!==t.listId}));case"CLEAR_LISTS":return[];default:return e}},myMeals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MY_MEALS":return t.meals;case"ADD_MEAL":return e.concat(t.meal);case"UPDATE_MEAL":return e.map((function(e){return e.id===t.meal.id?t.meal:e}));case"DELETE_MEAL":return e.filter((function(e){return e.id!==t.mealId}));case"CLEAR_MEALS":return null;default:return e}},ListForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_LIST_FORM":var a=Object(d.a)(Object(d.a)({},e),{},Object(p.a)({},t.formData.name,t.formData.value));return a;case"RESET_LIST_FORM":return h;case"SET_LIST_FORM_DATA_FOR_EDIT":return t.listFormData;default:return e}},MealForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_MEAL_FORM":var a=Object(d.a)(Object(d.a)({},e),{},Object(p.a)({},t.formData.name,t.formData.value));return a;case"RESET_MEAL_FORM":return f;case"SET_MEAL_FORM_DATA_FOR_EDIT":return t.mealFormData;default:return e}}}),v=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,b=Object(u.e)(E,v(Object(u.a)(m.a))),g=a(7),y=a(8),O=a(10),N=a(9),j=a(17),_=(a(183),a(11)),C=a(26),S=Object(C.a)(),k=function(){return{type:"RESET_MEAL_FORM"}},w=function(){return function(e){return fetch("https://thawing-gorge-41253.herokuapp.com/api/v1/meals",{credentials:"include",method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){t.error?alert(t.error):e({type:"SET_MY_MEALS",meals:t.data})})).catch(console.log)}},T=function(e){return function(t){var a={name:e.name,kind:e.kind,meal_type:e.meal_type,description:e.description,url:e.url,meal_date:e.meal_date,user_id:e.userId,list_id:e.listId};return fetch("https://thawing-gorge-41253.herokuapp.com/api/v1/meals",{credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){e.error?alert(e.error):(t({type:"ADD_MEAL",meal:e.data}),t({type:"RESET_MEAL_FORM"}),S.push("/meals/".concat(e.data.id)))})).catch(console.log)}},M=function(e){return function(t){return fetch("https://thawing-gorge-41253.herokuapp.com/api/v1/meals/".concat(e),{credentials:"include",method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){a.error?alert(a.error):(t(function(e){return{type:"DELETE_MEAL",mealId:e}}(e)),S.push("/lists"))})).catch(console.log)}},L=Object(s.b)((function(e){var t=e.currentUser?e.currentUser.currentUser.data.id:"";return{formData:e.MealForm,userId:t}}),{updateMealForm:function(e,t){return{type:"UPDATE_MEAL_FORM",formData:{name:e,value:t}}}})((function(e){var t=e.formData,a=e.updateMealForm,n=e.handleSubmit,l=e.editMode,i=t.name,c=t.kind,o=t.meal_type,s=t.description,u=t.url,m=t.meal_date,d=function(e){var t=e.target,n=t.name,r=t.value;a(n,r)};return r.a.createElement("form",{className:"ui form",onSubmit:function(e){return n(e,t)}},r.a.createElement("input",{name:"name",onChange:d,value:i,placeholder:"Name",autoComplete:"off",required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{name:"kind",onChange:d,value:c,placeholder:"Restaurant or Recipe?",autoComplete:"off"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{name:"meal_type",onChange:d,value:o,placeholder:"Breakfast, Brunch, Lunch, Snack or Dinner?",autoComplete:"off"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{name:"description",onChange:d,value:s,placeholder:"Description",autoComplete:"off"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{name:"url",onChange:d,value:u,placeholder:"Link to Recipe or Restaurant?",autoComplete:"off"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"date",name:"meal_date",onChange:d,value:m,placeholder:"Date",autoComplete:"off"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{className:"ui primary button",type:"submit"},l?"Add Meal":"Create Meal"))})),D=Object(s.b)((function(e){return{userId:e.currentUser?e.currentUser.currentUser.data.id:""}}),{createMeal:T})((function(e){var t=e.createMeal,a=e.listId,n=e.userId,l=e.recipe;return r.a.createElement("div",null,r.a.createElement(L,{recipe:l,listId:a,handleSubmit:function(e,r){e.preventDefault(),t(Object(d.a)(Object(d.a)({},r),{},{userId:n,listId:a}))}}))})),A=a(330),R=a(329),I=function(e){Object(O.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t,a){var n=e.props,r=n.updateMeal,l=n.createMeal,i=n.meal,c=n.userId,o=n.listId,s=e.props.renderedMeal?Object(A.a)():i.id;t.preventDefault(),!0===e.props.pulledRecipe?l(Object(d.a)(Object(d.a)({},a),{},{mealId:s,userId:c,listId:o})):r(Object(d.a)(Object(d.a)({},a),{},{mealId:s,userId:c}))},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){if("recipe"===this.props.mealType){var e={attributes:{name:this.props.renderedMeal.title,meal_type:"",kind:"recipe",description:"",url:this.props.renderedMeal.source_url,date:Object(R.a)(new Date,"MM-dd-yyyy")}};e&&this.props.setFormDataForEdit(e)}else if("restaurant"===this.props.mealType){var t={attributes:{name:this.props.renderedMeal.name,meal_type:"",kind:"restaurant",description:"",url:this.props.renderedMeal.url,date:Object(R.a)(new Date,"MM-dd-yyyy")}};t&&this.props.setFormDataForEdit(t)}else this.props.meal&&this.props.setFormDataForEdit(this.props.meal)}},{key:"componentDidUpdate",value:function(e){this.props.meal&&!e.meal&&this.props.setFormDataForEdit(this.props.meal)}},{key:"componentWillUnmount",value:function(){this.props.resetMealForm()}},{key:"render",value:function(){var e=this.props.meal,t=e?e.id:null;return r.a.createElement("div",null,r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{editMode:!0,renderedMeal:this.props.renderedMeal,handleSubmit:this.handleSubmit}),r.a.createElement("br",null),r.a.createElement(_.a,{className:"ui negative button",meal:e,to:"/meals/delete/".concat(t)},r.a.createElement("h5",null,"Delete this meal"))))}}]),a}(r.a.Component),F=Object(s.b)((function(e){return{userId:e.currentUser?e.currentUser.currentUser.data.id:""}}),{updateMeal:function(e){return function(t){var a={name:e.name,kind:e.kind,meal_type:e.meal_type,description:e.description,url:e.url,meal_date:e.meal_date};return fetch("https://thawing-gorge-41253.herokuapp.com/api/v1/meals/".concat(e.mealId),{credentials:"include",method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){e.error?alert(e.error):(t({type:"UPDATE_MEAL",meal:e.data}),S.push("/meals/".concat(e.data.id)))})).catch(console.log)}},setFormDataForEdit:function(e){return{type:"SET_MEAL_FORM_DATA_FOR_EDIT",mealFormData:{name:e.attributes.name,kind:e.attributes.kind,meal_type:e.attributes.meal_type,description:e.attributes.description,url:e.attributes.url,meal_date:e.attributes.meal_date}}},resetMealForm:k,deleteMeal:M,createMeal:T})(I),U=function(e){Object(O.a)(a,e);var t=Object(N.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e=this,t=this.props.location.query?this.props.location.query.renderedMeal:null,a=this.props.location.query?this.props.location.query.mealType:null,n=this.props.list,l=n&&this.props.myMeals?this.props.myMeals.filter((function(t){return t.attributes.list.id==e.props.listId})):null,i=n&&l?l.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(_.a,{to:"/meals/".concat(e.id)},r.a.createElement("h5",null,e.attributes.name)))})):null;return this.props.list?r.a.createElement("div",null,r.a.createElement("div",{className:"ui one column grid"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"ui fluid card"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},r.a.createElement("h3",null,n.attributes.name)),r.a.createElement("h4",null,"Restaurants and Recipes:"),r.a.createElement("ul",null,i))),r.a.createElement(_.a,{className:"ui primary button",list:n,to:"/lists/".concat(n.id,"/edit")},r.a.createElement("h5",null,"Edit this list")))),r.a.createElement("h1",null,"Add a new meal to this list:"),t?r.a.createElement(F,{pulledRecipe:!0,mealType:a,renderedMeal:t,list:n,listId:n.id}):r.a.createElement(D,{mealType:a,renderedMeal:t,listId:n.id})):r.a.createElement("p",null,"This is the list card with no list!")}}]),a}(n.Component),x=Object(j.f)(Object(s.b)((function(e){return{myMeals:e.myMeals}}),{getMyMeals:w})(U)),P=function(e){Object(O.a)(a,e);var t=Object(N.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e=this.props.meal;return e?r.a.createElement("div",{className:"ui centered card",style:{width:"500px"}},r.a.createElement("div",{className:"center aligned content"},r.a.createElement("div",{className:"header"},r.a.createElement("h2",null,e.attributes.name)),r.a.createElement("div",{className:"meta"},r.a.createElement("p",null,e.attributes.kind)),r.a.createElement("div",{className:"description"},r.a.createElement("ul",null,r.a.createElement("h4",null,e.attributes.meal_type),r.a.createElement("h4",null,e.attributes.description),r.a.createElement("h4",null,Object(R.a)(new Date(e.attributes.meal_date),"MM-dd-yyyy")),r.a.createElement("h5",null,r.a.createElement("a",{href:e.attributes.url,target:"_blank",rel:"noopener noreferrer"},"Website")),r.a.createElement(_.a,{to:"/lists/".concat(e.attributes.list_id)},r.a.createElement("h5",null,"List: ",e.attributes.list.name))))),r.a.createElement("div",{className:"center aligned extra content"},r.a.createElement(_.a,{className:"ui button primary",to:"/meals/".concat(e.id,"/edit")},r.a.createElement("h5",null,"Edit this meal")))):r.a.createElement("p",null,"This is the meal card with no meal!")}}]),a}(n.Component),q=function(e){Object(O.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={term:"",restaurants:[]},e.handleChange=function(t){e.setState({term:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.search(e.state.term)},e}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"search-bar ui segment"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"ui form"},r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Enter Restaurant Name"),r.a.createElement("input",{type:"text",value:this.state.term,onChange:this.handleChange}))))}}]),a}(r.a.Component),W=Object(s.b)((function(e){return{location:e.location}}))(q),Y=a(328),B=Object(s.b)((function(e){return{lists:e.myLists}}))((function(e){var t=e.restaurants.map((function(t){return r.a.createElement("div",{className:"column",key:t.id},r.a.createElement("div",{className:"ui fluid card",style:{height:"800px"}},r.a.createElement("div",{className:"image"},r.a.createElement("img",{style:{height:"400px"},src:t.image_url,alt:t.name})),r.a.createElement("div",{className:"content"},r.a.createElement("a",{className:"header",href:t.url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("h3",null,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:17,a=[];return e.length>t?(e.split(" ").reduce((function(e,n){return e+n.length<=t&&a.push(n),e+n.length}),0),"".concat(a.join(" ")," ...")):e}(t.name))),r.a.createElement("div",{className:"description"},r.a.createElement("h5",null,"Phone Number: ",t.display_phone),r.a.createElement("h5",null,"Address: ",t.location.address1," ",t.location.city," ",t.location.state," ",t.location.zip_code)),r.a.createElement("div",{className:"extra"},r.a.createElement("h5",null,"Rating: ",t.rating," (",t.review_count," reviews)"))),r.a.createElement(Y.a,{className:"ui button primary",text:"Add to list"},r.a.createElement(Y.a.Menu,{className:"menu"},e.lists.map((function(e){return r.a.createElement(_.a,{className:"item",key:e.id,to:{pathname:"/lists/".concat(e.id),query:{renderedMeal:t,mealType:"restaurant"}}},e.attributes.name)}))))))}));return r.a.createElement("div",{className:"ui four column grid"},t)})),G=a(162),J=a.n(G),z=function(e){Object(O.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).handleApiLoaded=function(t,a){var n={lat:e.props.location.location.latitude,lng:e.props.location.location.longitude};new a.Marker({position:n,map:t,title:"Here I am!"})},e}return Object(y.a)(a,[{key:"render",value:function(){var e=this,t=this.props.location?this.props.location.location.latitude:null,a=this.props.location?this.props.location.location.longitude:null,n=function(e){return r.a.createElement("div",null,r.a.createElement("button",{className:"restaurant-marker"},r.a.createElement("img",{style:{height:"50px",width:"50px"},src:"src/img/pin.png",alt:"Food-Mood"}),r.a.createElement("div",{className:"marker-text"},r.a.createElement("strong",null,e.name))))};return this.props.location?r.a.createElement("div",{style:{height:"100vh",width:"100%",position:"relative"}},r.a.createElement(J.a,{defaultCenter:{lat:t,lng:a},defaultZoom:11,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(t){var a=t.map,n=t.maps;return e.handleApiLoaded(a,n)}},this.props.restaurants.map((function(e){return r.a.createElement(n,{key:e.id,lat:e.coordinates.latitude,lng:e.coordinates.longitude,name:e.name},r.a.createElement("button",{className:"restaurant-marker"},r.a.createElement("img",{src:"/img/pin.png",alt:"Food-Mood"})))})))):r.a.createElement("div",null,"Loading your location")}}]),a}(r.a.Component),H=Object(s.b)((function(e){return{location:e.location}}))(z),X=new Headers;X.append("Authorization","Bearer 7csztt9t_mV0qy-Xja17NIqffm25SXNRfheqdxofAZLASkmWJsj4OSLOePCcpGdFj-Q8tdxmFLuQnWHeVD51mQ61bzT34EsGLwBXZOJa3hbhHbtyhBsZh6ufmtKTXnYx"),X.append("Cookie","__cfduid=d21bcfcd3b5c8341593654a98645802fa1586752739");var Z={method:"GET",headers:X,redirect:"follow"},Q=function(e){Object(O.a)(a,e);var t=Object(N.a)(a);function a(){var e;return Object(g.a)(this,a),(e=t.call(this)).fetchYelpApi=function(t){fetch("https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=".concat(t,"&latitude=").concat(e.props.location.location.latitude,"&longitude=").concat(e.props.location.location.longitude),Z).then((function(e){return e.json()})).then((function(t){e.setState({restaurants:t.businesses})})).catch((function(e){return console.log("error",e)}))},e.state={restaurants:[]},e}return Object(y.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&this.fetchYelpApi()}},{key:"render",value:function(){return this.state.restaurants?r.a.createElement("div",null,r.a.createElement("h5",null,"Search Restaurants Near You"),r.a.createElement(W,{search:this.fetchYelpApi}),r.a.createElement(B,{restaurants:this.state.restaurants}),r.a.createElement("br",null),r.a.createElement(H,{restaurants:this.state.restaurants})):r.a.createElement("div",null,r.a.createElement("h5",null,"Search Restaurants Near You"),r.a.createElement(W,{search:this.fetchYelpApi}),r.a.createElement("br",null),r.a.createElement(H,{restaurants:this.state.restaurants}))}}]),a}(r.a.Component),V=Object(s.b)((function(e){return{location:e.location}}))(Q),K=function(e){Object(O.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.handleChange=function(t){e.setState({query:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.search(e.state.query)},e}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"search-bar ui segment"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"ui form"},r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Enter Recipe Name"),r.a.createElement("input",{type:"text",value:this.state.term,onChange:this.handleChange}))))}}]),a}(r.a.Component),$=Object(s.b)((function(e){return{lists:e.myLists}}))((function(e){var t=e.recipes.map((function(t){return r.a.createElement("div",{className:"column",key:t.recipe_id},r.a.createElement("div",{className:"ui fluid card",style:{height:"800px"}},r.a.createElement("div",{className:"image"},r.a.createElement("img",{style:{height:"500px"},src:t.image_url,alt:t.title})),r.a.createElement("div",{className:"content"},r.a.createElement("a",{className:"header",href:t.source_url,rel:"noopener noreferrer",target:"_blank"},r.a.createElement("h3",null,t.title)),r.a.createElement("div",{className:"description"},r.a.createElement("h5",null,"Published by: ",t.publisher))),r.a.createElement(Y.a,{className:"ui button primary",text:"Add to list"},r.a.createElement(Y.a.Menu,{className:"menu"},e.lists.map((function(e){return r.a.createElement(_.a,{className:"item",key:e.id,to:{pathname:"/lists/".concat(e.id),query:{renderedMeal:t,mealType:"recipe"}}},e.attributes.name)}))))))}));return r.a.createElement("div",{className:"ui four column grid"},t)})),ee=function(e){Object(O.a)(a,e);var t=Object(N.a)(a);function a(){var e;return Object(g.a)(this,a),(e=t.call(this)).fetchRecipes=function(t){fetch("https://forkify-api.herokuapp.com/api/search?&q=".concat(t)).then((function(e){return e.json()})).then((function(t){return e.setState({recipes:t.recipes})}))},e.state={recipes:[]},e}return Object(y.a)(a,[{key:"render",value:function(){return this.state.recipes?r.a.createElement("div",null,r.a.createElement("h5",null,"Search Recipes"),r.a.createElement(K,{search:this.fetchRecipes}),r.a.createElement($,{recipes:this.state.recipes})):r.a.createElement("div",null,r.a.createElement("h5",null,"Search Recipes"),r.a.createElement(K,{search:this.fetchRecipes}))}}]),a}(r.a.Component),te=Object(s.b)((function(e){return{location:e.location}}))(ee),ae=function(){return{type:"RESET_LIST_FORM"}},ne=function(e){return{type:"SET_LIST_FORM_DATA_FOR_EDIT",listFormData:{name:e.attributes.name,description:e.attributes.description}}},re=function(){return function(e){return fetch("https://thawing-gorge-41253.herokuapp.com/api/v1/lists",{credentials:"include",method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){t.error?alert(t.error):e({type:"SET_MY_LISTS",lists:t.data})})).catch(console.log)}},le=function(e){return function(t){return fetch("https://thawing-gorge-41253.herokuapp.com/api/v1/lists/".concat(e),{credentials:"include",method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){a.error?alert(a.error):(t(function(e){return{type:"DELETE_LIST",listId:e}}(e)),S.push("/lists"))})).catch(console.log)}},ie=function(e){return{type:"SET_CURRENT_USER",user:e}},ce=function(){return function(e){return e({type:"CLEAR_CURRENT_USER"}),e({type:"CLEAR_LISTS"}),fetch("https://thawing-gorge-41253.herokuapp.com/api/v1/logout",{credentials:"include",method:"DELETE"})}},oe=Object(s.b)(null,{logout:ce})((function(e){var t=e.logout;return r.a.createElement("div",{className:"ui container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 col-md-offset-2"},r.a.createElement("div",{className:"panel panel-default"},r.a.createElement("div",{className:"panel-body"},r.a.createElement("form",{className:"ui form",onSubmit:function(e){e.preventDefault(),t(),S.push("/")}},r.a.createElement("button",{type:"submit",className:"ui button negative"},"Logout")))))))})),se=function(e){Object(O.a)(a,e);var t=Object(N.a)(a);function a(){var e;return Object(g.a)(this,a),(e=t.call(this)).handleMenuToggle=function(){e.setState({isClicked:!e.state.isClicked})},e.handleLogout=function(){e.props.logout(),S.push("/"),e.setState({isClicked:!e.state.isClicked})},e.state={isClicked:!1},e}return Object(y.a)(a,[{key:"render",value:function(){return this.props.currentUser&&!this.state.isClicked?r.a.createElement("div",{className:"ui teal seven item menu"},r.a.createElement("button",{onClick:this.handleMenuToggle,className:"toggle"},r.a.createElement("i",{className:"angle double down icon"})),r.a.createElement("div",{className:"header item navitem"},r.a.createElement(_.b,{style:{color:"rgb(250, 239, 135, 0.967)",fontSize:"25px",borderStyle:"double"},exact:!0,to:""},"FoodMood")),r.a.createElement("div",{className:"header item navitem"},r.a.createElement(_.b,{exact:!0,activeClassName:"active",to:"/lists"},r.a.createElement("h4",null,"Lists"))),r.a.createElement("div",{className:"header item navitem"},r.a.createElement(_.b,{exact:!0,activeClassName:"active",to:"/lists/new"},r.a.createElement("h4",null,"Create List"))),r.a.createElement("div",{className:"header item navitem"},r.a.createElement(_.b,{exact:!0,activeClassName:"active",to:"/restaurants"},r.a.createElement("h4",null,"Search Restaurants"))),r.a.createElement("div",{className:"header item navitem"},r.a.createElement(_.b,{exact:!0,activeClassName:"active",to:"/recipes"},r.a.createElement("h4",null,"Search Recipes"))),r.a.createElement("div",{className:"right menu"},this.props.loggedIn?r.a.createElement("div",{className:"ui item logout"},r.a.createElement(oe,null)):null)):this.props.currentUser&&this.state.isClicked?r.a.createElement("div",{className:"ui grid"},r.a.createElement("div",{className:"four wide column"},r.a.createElement("div",{className:"ui vertical fluid tabular menu"},r.a.createElement(_.a,{onClick:this.handleMenuToggle,exact:!0,to:"/lists",className:"item"},"Lists"),r.a.createElement(_.a,{onClick:this.handleMenuToggle,exact:!0,to:"/lists/new",className:"item"},"Create List"),r.a.createElement(_.a,{onClick:this.handleMenuToggle,exact:!0,to:"/restaurants",className:"item"},"Browse Restaurants"),r.a.createElement(_.a,{onClick:this.handleMenuToggle,exact:!0,to:"/recipes",className:"item"},"Browse Recipes"),r.a.createElement("button",{onClick:this.handleLogout,className:"ui negative"},"Logout")))):this.props.currentUser||this.state.isClicked?void 0:r.a.createElement("div",{className:"ui teal one item menu"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Welcome to FoodMood, please ",r.a.createElement(_.a,{to:"/login"},"Login")," into your account or ",r.a.createElement(_.a,{to:"/signup"},"Signup"))),r.a.createElement("div",{className:"right menu"},r.a.createElement("strong",{className:"logo"},"FoodMood")),r.a.createElement("div",{className:"right menu"},this.props.loggedIn?r.a.createElement("div",{className:"ui item logout"},r.a.createElement(oe,null)):null))}}]),a}(r.a.Component),ue=Object(s.b)((function(e){return{currentUser:e.currentUser,loggedIn:!!e.currentUser}}),{logout:ce})(se),me=function(e){Object(O.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleOnChange=function(t){var a=t.target,n=a.value,r=a.name;e.setState(Object(p.a)({},r,n))},e.handleOnSubmit=function(t){t.preventDefault(),e.props.login(e.state)},e}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"ui container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 col-md-offset-2"},r.a.createElement("div",{className:"panel panel-default"},r.a.createElement("div",{className:"panel-body"},r.a.createElement("form",{className:"ui form",onSubmit:this.handleOnSubmit},r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"text",placeholder:"Email",value:this.state.email,name:"email",onChange:this.handleOnChange,autoComplete:"off"})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",placeholder:"Password",value:this.state.password,name:"password",onChange:this.handleOnChange})),r.a.createElement("button",{type:"submit",className:"ui button primary"},"Submit")))))))}}]),a}(r.a.Component),de=Object(s.b)(null,{login:function(e){return function(t){return fetch("https://thawing-gorge-41253.herokuapp.com/api/v1/login",{credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.error?alert(e.error):(t(ie(e)),t(re()),t(w()),S.push("/"))})).catch(console.log)}}})(me),pe=function(e){Object(O.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={name:"",email:"",password:""},e.handleOnChange=function(t){var a=t.target,n=a.value,r=a.name;e.setState(Object(p.a)({},r,n))},e.handleOnSubmit=function(t){t.preventDefault(),e.props.signup(e.state)},e}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"ui container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 col-md-offset-2"},r.a.createElement("div",{className:"panel panel-default"},r.a.createElement("div",{className:"panel-body"},r.a.createElement("form",{className:"ui form",onSubmit:this.handleOnSubmit},r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Name:"),r.a.createElement("input",{type:"text",placeholder:"Name",value:this.state.name,name:"name",onChange:this.handleOnChange,autoComplete:"off",required:!0})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"text",placeholder:"Email",value:this.state.email,name:"email",onChange:this.handleOnChange,autoComplete:"off",required:!0})),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",placeholder:"password",value:this.state.password,name:"password",onChange:this.handleOnChange,autoComplete:"off",required:!0})),r.a.createElement("button",{type:"submit",className:"ui button primary"},"Submit")))))))}}]),a}(r.a.Component),he=Object(s.b)(null,{signup:function(e){return function(t){return fetch("https://thawing-gorge-41253.herokuapp.com/api/v1/signup",{credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.error?alert(e.error):(t(ie(e)),t(re()),t(w()),S.push("/"))})).catch(console.log)}}})(pe),fe=function(e){Object(O.a)(a,e);var t=Object(N.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){var e=this.props.lists.length>0?this.props.lists.map((function(e){return r.a.createElement("div",{className:"item",key:e.id},r.a.createElement("i",{className:"large list icon"}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},r.a.createElement("h5",null,r.a.createElement(_.a,{to:"/lists/".concat(e.id)},e.attributes.name))),r.a.createElement("div",{className:"description"},e.attributes.description)))})):r.a.createElement("h2",null,"Create lists to start adding restaurants and recipes!");return r.a.createElement("div",null,r.a.createElement("div",{className:"ui one column grid"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"ui fluid card"},r.a.createElement("div",{className:"content"},r.a.createElement("h3",null,"These are your lists:"),r.a.createElement("br",null),r.a.createElement("div",{className:"ui list"},e),r.a.createElement(_.a,{className:"ui button primary",to:"/lists/new"},"Create New List"))))))}}]),a}(r.a.Component),Ee=Object(s.b)((function(e){return{lists:e.myLists}}))(fe),ve=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"phantom"}),r.a.createElement("div",{className:"footerStyle"},"\xa9 by Trejon Stallsworth. Powered by"," ",r.a.createElement("a",{rel:"noopener",href:"https://forkify-api.herokuapp.com/api/",target:"_blank",class:"link"},"Forkify API")," ","&"," ",r.a.createElement("a",{rel:"noopener",href:"https://www.yelp.com/developers/documentation/v3/business_search",target:"_blank",class:"link"},"Yelp Businesses Search API")))},be=function(e){Object(O.a)(a,e);var t=Object(N.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.currentUser?r.a.createElement(Ee,null):r.a.createElement("div",{className:"ui message"},r.a.createElement("div",{className:"ui center aligned header"},r.a.createElement("br",null),r.a.createElement("h3",null,"A meal app designed to work for you. Enable your location to fully enjoy the features. Organize and keep track of your meal plans, browse recipes or restaurants for inspiration."))),r.a.createElement(ve,null))}}]),a}(r.a.Component),ge=Object(s.b)((function(e){return{currentUser:e.currentUser}}))(be),ye=Object(s.b)((function(e){var t=e.currentUser?e.currentUser.currentUser.data.id:"";return{formData:e.ListForm,userId:t}}),{updateListForm:function(e,t){return{type:"UPDATE_LIST_FORM",formData:{name:e,value:t}}}})((function(e){var t=e.formData,a=e.updateListForm,n=(e.userId,e.list,e.handleSubmit),l=e.editMode,i=t.name,c=t.description,o=function(e){var t=e.target,n=t.name,r=t.value;a(n,r)};return r.a.createElement("form",{className:"ui form",onSubmit:function(e){return n(e,t)}},r.a.createElement("input",{name:"name",onChange:o,value:i,placeholder:"Name",autoComplete:"off"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{name:"description",onChange:o,value:c,placeholder:"Description",autoComplete:"off"}),r.a.createElement("button",{className:"ui primary button",type:"submit"},l?"Update List":"Create List"))})),Oe=Object(s.b)(null,{createList:function(e){return function(t){var a={name:e.name,description:e.description,user_id:e.userId};return fetch("https://thawing-gorge-41253.herokuapp.com/api/v1/lists",{credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){e.error?alert(e.error):(t({type:"ADD_LIST",list:e.data}),t({type:"RESET_LIST_FORM"}),S.push("/lists/".concat(e.data.id)))})).catch(console.log)}}})((function(e){var t=e.createList;e.recipe;return r.a.createElement("div",null,r.a.createElement(ye,{handleSubmit:function(e,a,n){e.preventDefault(),t(Object(d.a)(Object(d.a)({},a),{},{userId:n}))}}))})),Ne=function(e){Object(O.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t,a,n){var r=e.props,l=r.updateList,i=r.list;t.preventDefault(),l(Object(d.a)(Object(d.a)({},a),{},{listId:i.id,userId:n}))},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.props.list&&this.props.setFormDataForEdit(this.props.list)}},{key:"componentDidUpdate",value:function(e){this.props.list&&!e.list&&this.props.setFormDataForEdit(this.props.list)}},{key:"componentWillUnmount",value:function(){this.props.resetListForm()}},{key:"render",value:function(){var e=this.props.list,t=e?e.id:null;return r.a.createElement("div",null,r.a.createElement(r.a.Fragment,null,r.a.createElement(ye,{editMode:!0,handleSubmit:this.handleSubmit}),r.a.createElement("br",null),r.a.createElement(_.a,{className:"ui negative button",list:e,to:"/lists/delete/".concat(t)},r.a.createElement("h5",null,"Delete this list"))))}}]),a}(r.a.Component),je=Object(s.b)(null,{updateList:function(e){return function(t){var a={name:e.name,description:e.description};return fetch("https://thawing-gorge-41253.herokuapp.com/api/v1/lists/".concat(e.listId),{credentials:"include",method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){e.error?alert(e.error):(t({type:"UPDATE_LIST",list:e.data}),S.push("/lists/".concat(e.data.id)))})).catch(console.log)}},setFormDataForEdit:ne,resetListForm:ae,deleteList:le})(Ne),_e=function(e){return i.a.createPortal(r.a.createElement("div",{className:"ui dimmer modals visible active",onClick:e.onDismiss},r.a.createElement("div",{className:"ui standard modal visible active",onClick:function(e){return e.stopPropagation()}},r.a.createElement("div",{className:"header"},e.title),r.a.createElement("div",{className:"content"},e.content),r.a.createElement("div",{className:"actions"},e.actions))),document.querySelector("#modal"))},Ce=function(e){Object(O.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).renderActions=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"ui button negative",onClick:function(){return e.props.deleteList(e.props.list.id)}},"Delete"),r.a.createElement(_.a,{to:"/lists/".concat(e.props.list.id),className:"ui button"},"Cancel"))},e.renderContent=function(){return e.props.list?"Are you sure you want to delete the list: ".concat(e.props.list.attributes.name,"?"):"Are you sure you want to delete this list?"},e}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return this.props.list?r.a.createElement(_e,{title:"Delete List",content:this.renderContent(),actions:this.renderActions(),onDismiss:function(){return S.push("/lists/".concat(e.props.list.id))}}):r.a.createElement("div",null,"Loading list")}}]),a}(r.a.Component),Se=Object(s.b)(null,{deleteList:le})(Ce),ke=function(e){Object(O.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).renderActions=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"ui button negative",onClick:function(){return e.props.deleteMeal(e.props.meal.id)}},"Delete"),r.a.createElement(_.a,{to:"/meals/".concat(e.props.meal.id),className:"ui button"},"Cancel"))},e.renderContent=function(){return e.props.meal?"Are you sure you want to delete the meal: ".concat(e.props.meal.attributes.name,"?"):"Are you sure you want to delete this meal?"},e}return Object(y.a)(a,[{key:"render",value:function(){var e=this;return this.props.meal?r.a.createElement(_e,{title:"Delete Meal",content:this.renderContent(),actions:this.renderActions(),onDismiss:function(){return S.push("/meals/".concat(e.props.meal.id))}}):r.a.createElement("div",null,"Loading meal")}}]),a}(r.a.Component),we=Object(s.b)(null,{deleteMeal:M})(ke),Te=function(e){Object(O.a)(a,e);var t=Object(N.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.props.getCurrentUser(),this.props.getUserCoords(),window.scrollTo(0,0)}},{key:"render",value:function(){var e=this.props,t=e.loggedIn,a=e.lists,n=e.meals;return r.a.createElement(j.b,{history:S},r.a.createElement("div",{className:"app"},t?r.a.createElement(ue,{location:this.props.location}):r.a.createElement(ue,null),r.a.createElement(j.c,null,r.a.createElement(j.a,{path:"/map",exact:!0,component:H}),r.a.createElement(j.a,{path:"/restaurants",exact:!0,component:V}),r.a.createElement(j.a,{path:"/recipes",exact:!0,component:te}),r.a.createElement(j.a,{path:"/",exact:!0,component:ge}),r.a.createElement(j.a,{path:"/login",exact:!0,component:de}),r.a.createElement(j.a,{path:"/signup",exact:!0,component:he}),r.a.createElement(j.a,{path:"/lists",exact:!0,component:Ee}),r.a.createElement(j.a,{path:"/lists/new",exact:!0,component:Oe}),r.a.createElement(j.a,{path:"/lists/:id",exact:!0,render:function(e){var t=a.find((function(t){return t.id===e.match.params.id}));return r.a.createElement(x,{listId:e.match.params.id,list:t})}}),r.a.createElement(j.a,{path:"/lists/:id/edit",exact:!0,render:function(e){var t=a.find((function(t){return t.id===e.match.params.id}));return r.a.createElement(je,{list:t})}}),r.a.createElement(j.a,{path:"/lists/delete/:id",exact:!0,render:function(e){var t=a.find((function(t){return t.id===e.match.params.id}));return r.a.createElement(Se,{list:t})}}),r.a.createElement(j.a,{path:"/meals/:id",exact:!0,render:function(e){var t=n?n.find((function(t){return t.id===e.match.params.id})):null;return r.a.createElement(P,{meal:t})}}),r.a.createElement(j.a,{path:"/meals/:id/edit",exact:!0,render:function(e){var t=n?n.find((function(t){return t.id===e.match.params.id})):null;return r.a.createElement(F,{meal:t})}}),r.a.createElement(j.a,{path:"/meals/delete/:id",exact:!0,render:function(e){var t=n.find((function(t){return t.id===e.match.params.id}));return r.a.createElement(we,{meal:t})}}))))}}]),a}(r.a.Component),Me=Object(s.b)((function(e){return{loggedIn:!!e.currentUser,lists:e.myLists,meals:e.myMeals}}),{getCurrentUser:function(){return function(e){return fetch("https://thawing-gorge-41253.herokuapp.com/api/v1/get_current_user",{credentials:"include",method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){t.error?console.log(t.error):(e(ie(t)),e(re()),e(w()))})).catch(console.log)}},setFormDataForEdit:ne,getUserCoords:function(){return function(e){return window.navigator.geolocation.getCurrentPosition((function(t){return e({type:"GET_USER_LOCATION",location:{latitude:t.coords.latitude,longitude:t.coords.longitude}})}),(function(e){return console.log({errorMessage:e.message})}))}}})(Te);i.a.render(r.a.createElement(s.a,{store:b},r.a.createElement(Me,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/FoodMood",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/FoodMood","/service-worker.js");c?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):o(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):o(t,e)}))}}()}},[[174,1,2]]]);
//# sourceMappingURL=main.7533cd12.chunk.js.map